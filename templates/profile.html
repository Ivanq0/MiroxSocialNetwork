{% include "base.html" %}

{% block content %}

<div class="container" style="background-color: #D1F5FF;">
    {% if user_id == current_user.id %}
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded">
        <div class="flex-grow-1 ms-3 d-flex align-items-center">
            <div class="flex-shrink-0" style="margin-top: 1rem; margin-bottom: 1rem;">
                <img src="{{img}}" class="rounded float-start" width="100" height="100" alt="Not Found"
                     onerror="this.src='{{alt}}';">
            </div>
            <div class="flex-grow-1 ms-3 d-flex align-items-center">
                <p class="fs-1 fw-bold">
                    {{current_user.name}} {{current_user.surname}}
                </p>
            </div>
            <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                <a class="btn btn-outline-primary" href="/logout">Выйти</a>
                <a class="btn btn-outline-success" href="/upload_pfp">Изменить аватар</a>
                <a class="btn btn-outline-danger" href="/account_delete/{{ current_user.id }}">Удалить профиль</a>
            </div>
        </div>
    </div>
    {% else %}
    <div class="shadow p-3 mb-5 bg-body-tertiary rounded" style="margin-top: 1rem;">
        <div class="flex-grow-1 ms-3 d-flex align-items-center">
            <div class="flex-shrink-0" style="margin-top: 1rem; margin-bottom: 1rem;">
                <img src="{{img}}" class="rounded float-start" width="100" height="100" alt="Not Found"
                     onerror="this.src='{{alt}}';">
            </div>
            <div class="flex-grow-1 ms-3 d-flex align-items-center">
                <p class="fs-1 fw-bold">
                    {{user.name}} {{user.surname}}
                </p>
            </div>
        </div>
    </div>
    {% endif %}
    <div>
        {% for post in posts %}
        {% if user_id == current_user.id %}
        <div class="shadow-sm p-3 mb-5 bg-body-tertiary rounded">
            <div>
                <p class="fs-3 fw-semibold">
                    {{ post.user.name }} {{ post.user.surname }} | {{ post.created_date }}
                </p>
                <p class="fs-4 fst-normal">
                    {{ post.content }}
                </p>
                <div class="btn-group" role="group" aria-label="Basic mixed styles example">
                    <a class="btn btn-success" href="/post/{{ post.id }}">Изменить</a>
                    <a class="btn btn-danger" href="/post_delete/{{ post.id }}">Удалить</a>
                </div>
            </div>
        </div>
        {% else %}
        <div class="shadow-sm p-3 mb-5 bg-body-tertiary rounded">
            <div>
                <p class="fs-3 fw-semibold">
                    {{ post.user.name }} {{ post.user.surname }} | {{ post.created_date }}
                </p>
                <p class="fs-4 fst-normal">
                    {{ post.content }}
                </p>
            </div>
        </div>
        {% endif %}
        {% endfor %}
    </div>
</div>
{% endblock %}